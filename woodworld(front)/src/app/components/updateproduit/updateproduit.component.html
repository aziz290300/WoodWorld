<div class="update-produit-container">
    <h2>Modifier le produit</h2>
    <form (ngSubmit)="updateProduit()">

        <!-- Nom du produit -->
        <div class="form-group">
            <label for="nom">Nom du produit</label>
            <input type="text" id="nom" [(ngModel)]="produit.name" name="nom" class="form-control" required />
        </div>

        <!-- Description du produit -->
        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" [(ngModel)]="produit.description" name="description" class="form-control" rows="4" required></textarea>
        </div>

        <!-- Prix du produit -->
        <div class="form-group">
            <label for="prix">Prix</label>
            <input type="number" id="prix" [(ngModel)]="produit.price" name="prix" class="form-control" min="0" required />
        </div>

        <!-- Type de bois -->
        <div class="form-group">
            <label for="woodtypes">Type de bois</label>
            <select id="woodtypes" [(ngModel)]="produit.woodtypes" name="woodtypes" class="form-control">
                <option *ngFor="let type of woodtypesOptions" [value]="type">{{ type }}</option>
            </select>
        </div>

        <!-- Taille -->
        <div class="form-group">
            <label for="size">Taille</label>
            <select id="size" [(ngModel)]="produit.size" name="size" class="form-control">
                <option *ngFor="let size of sizeOptions" [value]="size">{{ size }}</option>
            </select>
        </div>

        <!-- Stock -->
        <div class="form-group">
            <label for="stock">Stock</label>
            <select id="stock" [(ngModel)]="produit.stock" name="stock" class="form-control">
                <option *ngFor="let stock of stockOptions" [value]="stock">{{ stock }}</option>
            </select>
        </div>

        <!-- Type de produit -->
        <div class="form-group">
            <label for="typesproduit">Type de produit</label>
            <select id="typesproduit" [(ngModel)]="produit.typesproduit" name="typesproduit" class="form-control">
                <option *ngFor="let type of typesProduitOptions" [value]="type">{{ type }}</option>
            </select>
        </div>

        <!-- Sous-catégorie -->
        <div class="form-group">
            <label for="souscategory">Sous-catégorie</label>
            <select id="souscategory" [(ngModel)]="produit.souscategory" name="souscategory" class="form-control">
                <option *ngFor="let souscategory of souscategoryOptions" [value]="souscategory">{{ souscategory }}</option>
            </select>
        </div>

        <!-- Home -->
        <div class="form-group">
            <label for="home">Home</label>
            <select id="home" [(ngModel)]="produit.home" name="home" class="form-control">
                <option *ngFor="let home of homeOptions" [value]="home">{{ home }}</option>
            </select>
        </div>

        <!-- Catégorie -->
        <div class="form-group">
            <label for="category">Catégorie</label>
            <select id="category" [(ngModel)]="produit.category" name="category" class="form-control">
                <option *ngFor="let category of categoryOptions" [value]="category">{{ category }}</option>
            </select>
        </div>

        <!-- Images existantes -->
        <div class="form-group">
            <label>Images:</label>
            <div class="images-preview">
                <div class="image-wrapper" *ngFor="let img of produit.images; let i = index">
                    <img [src]="img.url" alt="Image produit" class="image-preview" />
                    <button type="button" class="remove-btn" (click)="removeImages(i)">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Sélection des fichiers d'image -->
        <div class="form-group">
            <label for="images">Ajouter des images:</label>
            <input
                type="file"
                id="images"
                (change)="onFileSelected($event)"
                multiple
                class="form-control"
            />
        </div>

        <!-- Bouton pour soumettre le formulaire -->
        <button type="submit" class="btn btn-primary">Mettre à jour le produit</button>
    </form>
</div>
